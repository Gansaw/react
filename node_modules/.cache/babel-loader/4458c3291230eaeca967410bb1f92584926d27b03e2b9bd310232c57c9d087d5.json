{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/\\uCD5C\\uD638\\uC9C4 \\uC9C1\\uC5C5\\uAD50\\uC721/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import GalleryView from'./GalleryView';import styles from'./Homework.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Homework=function Homework(){// 키워드 input\nvar txt1=useRef();// 컴포넌트가 맨 처음 랜더링되면\nuseEffect(function(){txt1.current.focus();},[]);// 확인 버튼\nvar show=function show(e){e.preventDefault();if(txt1.current.value==='')return;var kw=encodeURI(txt1.current.value);setKeyword(kw);};// 취소 버튼\nvar showClear=function showClear(e){e.preventDefault();txt1.current.value=\"\";txt1.current.focus();setData(null);};// Gallery에 있는 data를 const(useState)\n// 입력하는 값을 keyword로 지정하고 const(useState)\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),keyword=_useState4[0],setKeyword=_useState4[1];useEffect(function(){if(!keyword)return;var url=\"https://apis.data.go.kr/B551011/PhotoGalleryService1/gallerySearchList1?serviceKey=RMZOE5nxYetqyMQfyEMjbhv0YOxMX7mj%2B8ucPjopU%2FTHy%2BF2x3UjmB9kqdqtEqvO8mYBMx04W3%2BTmxwNF0sJmw%3D%3D&numOfRows=10&pageNo=1&MobileOS=ETC&MobileApp=AppTest&arrange=A&keyword=\".concat(keyword,\"&_type=json\");fetch(url).then(function(response){return response.json();}).then(function(data){return setData(data.response.body.items.item);}).catch(function(err){return console.log(err);});console.log(url);},[keyword]);return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD55C\\uAD6D\\uAD00\\uAD11\\uACF5\\uC0AC_\\uAD00\\uAD11\\uC0AC\\uC9C4 \\uC815\\uBCF4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{ref:txt1,type:\"text\",id:\"txt1\",name:\"txt1\",placeholder:\"\\uD0A4\\uC6CC\\uB4DC\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.btDiv,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return show(e);},children:\"\\uD655\\uC778\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return showClear(e);},children:\"\\uCDE8\\uC18C\"})]})]})]})}),data&&/*#__PURE__*/_jsx(GalleryView,{gv:data})]});};export default Homework;","map":{"version":3,"names":["useState","useEffect","useRef","GalleryView","styles","jsx","_jsx","jsxs","_jsxs","Homework","txt1","current","focus","show","e","preventDefault","value","kw","encodeURI","setKeyword","showClear","setData","_useState","_useState2","_slicedToArray","data","_useState3","_useState4","keyword","url","concat","fetch","then","response","json","body","items","item","catch","err","console","log","className","children","ref","type","id","name","placeholder","required","btDiv","onClick","gv"],"sources":["C:/Users/User/최호진 직업교육/react/src/08/Homework.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport GalleryView from './GalleryView';\r\nimport styles from './Homework.module.css';\r\n\r\nconst Homework = () => {\r\n    // 키워드 input\r\n    const txt1 = useRef();\r\n\r\n    // 컴포넌트가 맨 처음 랜더링되면\r\n    useEffect(() => {\r\n        txt1.current.focus();\r\n    }, []);\r\n\r\n    // 확인 버튼\r\n    const show = (e) => {\r\n        e.preventDefault();\r\n        if (txt1.current.value === '') return;\r\n\r\n        const kw = encodeURI(txt1.current.value);\r\n        setKeyword(kw);\r\n    };\r\n\r\n    // 취소 버튼\r\n    const showClear = (e) => {\r\n        e.preventDefault();\r\n        txt1.current.value = \"\";\r\n        txt1.current.focus();\r\n        setData(null);\r\n    };\r\n\r\n    // Gallery에 있는 data를 const(useState)\r\n    // 입력하는 값을 keyword로 지정하고 const(useState)\r\n    const [data, setData] = useState(null);\r\n    const [keyword, setKeyword] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (!keyword) return;\r\n\r\n        const url = `https://apis.data.go.kr/B551011/PhotoGalleryService1/gallerySearchList1?serviceKey=RMZOE5nxYetqyMQfyEMjbhv0YOxMX7mj%2B8ucPjopU%2FTHy%2BF2x3UjmB9kqdqtEqvO8mYBMx04W3%2BTmxwNF0sJmw%3D%3D&numOfRows=10&pageNo=1&MobileOS=ETC&MobileApp=AppTest&arrange=A&keyword=${keyword}&_type=json`;\r\n\r\n        fetch(url)\r\n            .then((response) => response.json())\r\n            .then((data) => setData(data.response.body.items.item))\r\n            .catch((err) => console.log(err));\r\n        console.log(url);\r\n    }, [keyword]);\r\n\r\n\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <form>\r\n                <article>\r\n                    <header>\r\n                        <h1>한국관광공사_관광사진 정보</h1>\r\n                    </header>\r\n                    <div className=\"grid\">\r\n                        <div>\r\n                            <input ref={txt1} type=\"text\" id=\"txt1\" name=\"txt1\" placeholder=\"키워드를 입력하세요.\" required />\r\n                        </div>\r\n                        <div className={styles.btDiv}>\r\n                            <button onClick={(e) => show(e)}>확인</button>\r\n                            <button onClick={(e) => showClear(e)}>취소</button>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </form>            \r\n                {data && <GalleryView gv={data} />}\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Homework;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}